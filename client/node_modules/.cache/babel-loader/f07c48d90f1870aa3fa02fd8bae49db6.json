{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jo\\xE3o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Jo\\xE3o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useParams}from'react-router-dom';import axios from'../apis/axios';import ReviewRatingStars from'./ReviewRatingStars';import{FaChevronLeft,FaChevronRight}from'react-icons/fa';import{useGlobalContext}from'../globalContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReviewCards=function ReviewCards(_ref){var reviews=_ref.reviews;var _useParams=useParams(),id=_useParams.id;var _useGlobalContext=useGlobalContext(),reviewIndex=_useGlobalContext.reviewIndex,setReviewIndex=_useGlobalContext.setReviewIndex;var handleDeleteReview=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id,reviewId){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"/\".concat(id,\"/reviews/\").concat(reviewId));case 3:window.location.reload(true);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function handleDeleteReview(_x,_x2){return _ref2.apply(this,arguments);};}();var prevReview=function prevReview(){setReviewIndex(function(index){if(index===0){return reviews.length-1;}else{return index-1;}});};var nextReview=function nextReview(){setReviewIndex(function(index){if(index===reviews.length-1){return 0;}else{return index+1;}});};return/*#__PURE__*/_jsx(_Fragment,{children:reviews.length>0&&/*#__PURE__*/_jsxs(\"article\",{className:\"w-3/4 flex gap-5 items-center justify-center mt-5\",children:[/*#__PURE__*/_jsx(FaChevronLeft,{className:\"text-xl text-blue-400 hover:text-blue-600\",onClick:function onClick(){return prevReview();}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center justify-center gap-5 h-48 pb-1 m-1 border rounded shadow bg-blue-100\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"self-end bg-red-300 hover:bg-red-500 text-white text-xs border rounded p-1\",onClick:function onClick(){return handleDeleteReview(id,reviews[reviewIndex].id);},children:\"DELETE REVIEW\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold break-words\",children:reviews[reviewIndex].name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm break-words text-center px-5 h-8 mb-5\",children:reviews[reviewIndex].review}),/*#__PURE__*/_jsx(ReviewRatingStars,{rating:reviews[reviewIndex].rating})]},reviews[reviewIndex].id),/*#__PURE__*/_jsx(FaChevronRight,{className:\"text-xl text-blue-400 hover:text-blue-600\",onClick:function onClick(){return nextReview();}})]})});};export default ReviewCards;","map":{"version":3,"names":["React","useParams","axios","ReviewRatingStars","FaChevronLeft","FaChevronRight","useGlobalContext","ReviewCards","reviews","id","reviewIndex","setReviewIndex","handleDeleteReview","reviewId","delete","window","location","reload","console","log","prevReview","index","length","nextReview","name","review","rating"],"sources":["C:/Users/JoÃ£o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/src/components/ReviewCards.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from '../apis/axios'\r\nimport ReviewRatingStars from './ReviewRatingStars'\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa'\r\nimport { useGlobalContext } from '../globalContext'\r\n\r\nconst ReviewCards = ({ reviews }) => {\r\n  const { id } = useParams()\r\n  const { reviewIndex, setReviewIndex } = useGlobalContext()\r\n\r\n  \r\n  const handleDeleteReview = async (id, reviewId) => {\r\n    try {\r\n      await axios.delete(`/${id}/reviews/${reviewId}`)\r\n      window.location.reload(true);\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  const prevReview = () => {\r\n    setReviewIndex(index => {\r\n      if (index === 0) {\r\n        return reviews.length - 1\r\n      } else {\r\n        return index - 1\r\n      }\r\n    })\r\n  }\r\n  const nextReview = () => {\r\n    setReviewIndex(index => {\r\n      if (index === reviews.length - 1) {\r\n        return 0\r\n      } else {\r\n        return index + 1\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {reviews.length > 0 && (\r\n        <article className='w-3/4 flex gap-5 items-center justify-center mt-5'>\r\n          <FaChevronLeft\r\n            className='text-xl text-blue-400 hover:text-blue-600'\r\n            onClick={() => prevReview()}\r\n          />\r\n          <div className=\"w-full flex flex-col items-center justify-center gap-5 h-48 pb-1 m-1 border rounded shadow bg-blue-100\" key={reviews[reviewIndex].id}>\r\n            <button\r\n              className='self-end bg-red-300 hover:bg-red-500 text-white text-xs border rounded p-1'\r\n              onClick={() => handleDeleteReview(id, reviews[reviewIndex].id)}\r\n            >\r\n              DELETE REVIEW\r\n            </button>\r\n            <h2 className='text-lg font-bold break-words'>{reviews[reviewIndex].name}</h2>\r\n            <p className='text-sm break-words text-center px-5 h-8 mb-5'>{reviews[reviewIndex].review}</p>\r\n            <ReviewRatingStars rating={reviews[reviewIndex].rating} />\r\n          </div>\r\n          <FaChevronRight\r\n            className='text-xl text-blue-400 hover:text-blue-600'\r\n            onClick={() => nextReview()}\r\n          />\r\n        </article>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ReviewCards"],"mappings":"0YAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,kBAAP,KAA8B,qBAA9B,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,gBAA9C,CACA,OAASC,gBAAT,KAAiC,kBAAjC,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAiB,IAAdC,QAAc,MAAdA,OAAc,CACnC,eAAeP,SAAS,EAAxB,CAAQQ,EAAR,YAAQA,EAAR,CACA,sBAAwCH,gBAAgB,EAAxD,CAAQI,WAAR,mBAAQA,WAAR,CAAqBC,cAArB,mBAAqBA,cAArB,CAGA,GAAMC,mBAAkB,6FAAG,iBAAOH,EAAP,CAAWI,QAAX,0JAEjBX,MAAK,CAACY,MAAN,YAAiBL,EAAjB,qBAA+BI,QAA/B,EAFiB,QAGvBE,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAHuB,8EAKvBC,OAAO,CAACC,GAAR,cALuB,mEAAH,kBAAlBP,mBAAkB,iDAAxB,CAQA,GAAMQ,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBT,cAAc,CAAC,SAAAU,KAAK,CAAI,CACtB,GAAIA,KAAK,GAAK,CAAd,CAAiB,CACf,MAAOb,QAAO,CAACc,MAAR,CAAiB,CAAxB,CACD,CAFD,IAEO,CACL,MAAOD,MAAK,CAAG,CAAf,CACD,CACF,CANa,CAAd,CAOD,CARD,CASA,GAAME,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBZ,cAAc,CAAC,SAAAU,KAAK,CAAI,CACtB,GAAIA,KAAK,GAAKb,OAAO,CAACc,MAAR,CAAiB,CAA/B,CAAkC,CAChC,MAAO,EAAP,CACD,CAFD,IAEO,CACL,MAAOD,MAAK,CAAG,CAAf,CACD,CACF,CANa,CAAd,CAOD,CARD,CAUA,mBACE,yBACGb,OAAO,CAACc,MAAR,CAAiB,CAAjB,eACC,iBAAS,SAAS,CAAC,mDAAnB,wBACE,KAAC,aAAD,EACE,SAAS,CAAC,2CADZ,CAEE,OAAO,CAAE,yBAAMF,WAAU,EAAhB,EAFX,EADF,cAKE,aAAK,SAAS,CAAC,wGAAf,wBACE,eACE,SAAS,CAAC,4EADZ,CAEE,OAAO,CAAE,yBAAMR,mBAAkB,CAACH,EAAD,CAAKD,OAAO,CAACE,WAAD,CAAP,CAAqBD,EAA1B,CAAxB,EAFX,2BADF,cAOE,WAAI,SAAS,CAAC,+BAAd,UAA+CD,OAAO,CAACE,WAAD,CAAP,CAAqBc,IAApE,EAPF,cAQE,UAAG,SAAS,CAAC,+CAAb,UAA8DhB,OAAO,CAACE,WAAD,CAAP,CAAqBe,MAAnF,EARF,cASE,KAAC,iBAAD,EAAmB,MAAM,CAAEjB,OAAO,CAACE,WAAD,CAAP,CAAqBgB,MAAhD,EATF,GAA6HlB,OAAO,CAACE,WAAD,CAAP,CAAqBD,EAAlJ,CALF,cAgBE,KAAC,cAAD,EACE,SAAS,CAAC,2CADZ,CAEE,OAAO,CAAE,yBAAMc,WAAU,EAAhB,EAFX,EAhBF,GAFJ,EADF,CA2BD,CA3DD,CA6DA,cAAehB,YAAf"},"metadata":{},"sourceType":"module"}