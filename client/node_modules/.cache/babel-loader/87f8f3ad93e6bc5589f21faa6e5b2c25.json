{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jo\\xE3o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Jo\\xE3o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'../apis/axios';import{useGlobalContext}from'../globalContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReviewRestaurantForm=function ReviewRestaurantForm(_ref){var reviews=_ref.reviews;var _useParams=useParams(),id=_useParams.id;var _useGlobalContext=useGlobalContext(),reviewerName=_useGlobalContext.reviewerName,setReviewerName=_useGlobalContext.setReviewerName,reviewerComment=_useGlobalContext.reviewerComment,setReviewerComment=_useGlobalContext.setReviewerComment,reviewerRating=_useGlobalContext.reviewerRating,setReviewerRating=_useGlobalContext.setReviewerRating;useEffect(function(){setReviewerName('');setReviewerComment('');setReviewerRating('Rating');},[]);var handleAddReview=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/\".concat(id,\"/reviews\"),{name:reviewerName,review:reviewerComment,rating:reviewerRating});case 4:setReviewerName('');setReviewerComment('');setReviewerRating('Rating');window.location.reload(true);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function handleAddReview(_x){return _ref2.apply(this,arguments);};}();//rendering component\nreturn/*#__PURE__*/_jsxs(\"form\",{className:\"w-full flex flex-col gap-4 rounded py-6 mt-6 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none shadow w-full                                              \\r border border-gray-400 hover:border-blue-400 rounded\\r px-1 py-2 \\r text-gray-700 leading-tight\\r focus:outline-none focus:shadow-outline\",id:\"restaurantName\",type:\"text\",placeholder:\"Enter your name\",maxLength:15,value:reviewerName,onChange:function onChange(event){return setReviewerName(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"appearance-none shadow w-full\\r border border-gray-400 hover:border-blue-400 rounded\\r px-1 py-2 \\r text-gray-700 leading-tight\\r focus:outline-none focus:shadow-outline\",id:\"restaurantPriceRange\",value:reviewerRating,onChange:function onChange(event){return setReviewerRating(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose your Rating\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"appearance-none shadow w-full resize-none break-all                                        \\r border border-gray-400 hover:border-blue-400 rounded\\r px-1 py-2 \\r text-gray-700 leading-tight\\r focus:outline-none focus:shadow-outline\",id:\"restaurantLocation\",type:\"text\",placeholder:\"Enter your comment...\",maxLength:75,value:reviewerComment,onChange:function onChange(event){return setReviewerComment(event.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-evenly mx-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"rounded w-28\\r bg-blue-500 hover:bg-blue-700 text-white\\r font-bold\\r px-1 py-2              \\r focus:outline-none focus:shadow-outline\",type:\"submit\",onClick:function onClick(event){return handleAddReview(event);},children:\"Post Review\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded w-28\\r bg-blue-500 hover:bg-blue-700 text-white\\r font-bold\\r px-1 py-2\\r focus:outline-none focus:shadow-outline\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back Home\"})})]})]});};export default ReviewRestaurantForm;","map":{"version":3,"names":["React","useEffect","useParams","Link","axios","useGlobalContext","ReviewRestaurantForm","reviews","id","reviewerName","setReviewerName","reviewerComment","setReviewerComment","reviewerRating","setReviewerRating","handleAddReview","event","preventDefault","post","name","review","rating","window","location","reload","console","log","target","value"],"sources":["C:/Users/JoÃ£o Pedro/Dropbox/VisualStudioCode/PortfolioWebsite/projects/PERN-Restaurant-Finder/client/src/components/ReviewRestaurantForm.jsx"],"sourcesContent":["import React, {useEffect} from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport axios from '../apis/axios'\r\nimport { useGlobalContext } from '../globalContext'\r\n\r\nconst ReviewRestaurantForm = ({reviews}) => {\r\n    const {id} = useParams()\r\n\r\n    const {\r\n        reviewerName, setReviewerName,        \r\n        reviewerComment, setReviewerComment,\r\n        reviewerRating, setReviewerRating\r\n    } = useGlobalContext()\r\n\r\n    useEffect(() => {\r\n        setReviewerName('')\r\n        setReviewerComment('')\r\n        setReviewerRating('Rating')        \r\n  }, [])\r\n\r\n    const handleAddReview = async event => {\r\n        event.preventDefault()\r\n        try {\r\n            await axios.post(`/${id}/reviews`, {\r\n                name: reviewerName,\r\n                review: reviewerComment,\r\n                rating: reviewerRating\r\n            })\r\n            \r\n            setReviewerName('')\r\n            setReviewerComment('')\r\n            setReviewerRating('Rating')                  \r\n            window.location.reload(true);\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    //rendering component\r\n    return (\r\n        <form className=\"w-full flex flex-col gap-4 rounded py-6 mt-6 text-sm\">\r\n            <div className='w-full'>\r\n                <input\r\n                    className=\"appearance-none shadow w-full                                              \r\n                            border border-gray-400 hover:border-blue-400 rounded\r\n                            px-1 py-2 \r\n                            text-gray-700 leading-tight\r\n                            focus:outline-none focus:shadow-outline\"\r\n                    id='restaurantName'\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your name\"\r\n                    maxLength={15}\r\n                    value={reviewerName}\r\n                    onChange={event => setReviewerName(event.target.value)}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <select\r\n                    className=\"appearance-none shadow w-full\r\n                        border border-gray-400 hover:border-blue-400 rounded\r\n                        px-1 py-2 \r\n                        text-gray-700 leading-tight\r\n                        focus:outline-none focus:shadow-outline\"\r\n                    id='restaurantPriceRange'\r\n                    value={reviewerRating}\r\n                    onChange={event => setReviewerRating(event.target.value)}\r\n                >\r\n                    <option>Choose your Rating</option>\r\n                    <option value=\"1\">1</option>\r\n                    <option value=\"2\">2</option>\r\n                    <option value=\"3\">3</option>\r\n                    <option value=\"4\">4</option>\r\n                    <option value=\"5\">5</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div>\r\n                <textarea\r\n                    className=\"appearance-none shadow w-full resize-none break-all                                        \r\n                            border border-gray-400 hover:border-blue-400 rounded\r\n                            px-1 py-2 \r\n                            text-gray-700 leading-tight\r\n                            focus:outline-none focus:shadow-outline\"\r\n                    id='restaurantLocation'\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your comment...\"\r\n                    maxLength={75}\r\n                    value={reviewerComment}\r\n                    onChange={event => setReviewerComment(event.target.value)}\r\n                />\r\n            </div>            \r\n\r\n            <div className='flex justify-evenly mx-5'>\r\n                <button\r\n                    className=\"rounded w-28\r\n                            bg-blue-500 hover:bg-blue-700 text-white\r\n                            font-bold\r\n                            px-1 py-2              \r\n                            focus:outline-none focus:shadow-outline\"\r\n                    type=\"submit\"\r\n                    onClick={event => handleAddReview(event)}\r\n                >\r\n                    Post Review\r\n                </button>\r\n\r\n                <button className=\"rounded w-28\r\n                            bg-blue-500 hover:bg-blue-700 text-white\r\n                            font-bold\r\n                            px-1 py-2\r\n                            focus:outline-none focus:shadow-outline\">\r\n                    <Link to={`/`}>\r\n                        Back Home\r\n                    </Link>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ReviewRestaurantForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}